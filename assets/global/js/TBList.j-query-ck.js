jQuery(function(e){function i(e){data=e.serialize();if(e.data("order_method")&&e.data("order_by")){data+="&order_mehotd"+e.data("order_method");data+="&order_by"+e.data("order_by")}e.data("page")&&(data+="&page"+e.data("page"));return data}function s(s,o){function l(t){var r=t.find("table"),i=r.position(),s=i.top,o=i.left,u=r.height(),a=r.width(),f=e('<div class="table-overlay"><span class="table-loader"  ></span></div>');f.insertAfter(r);f.css({position:"absolute",background:"rgba(255, 255, 255, 0.74)",top:s+"px",left:o+"px",width:a+"px",height:u+"px"});e(".table-loader").css({"margin-top":u/3+"px","margin-left":"auto","margin-right":"auto"});n(t)}function c(){e(".table-overlay").remove();r(s)}l(s);t&&t.abort();typeof o=="undefined"&&(o=function(){return!1});var u=i(s),a=s.attr("method"),f=s.attr("action");t=e.ajax({type:a,url:f,data:u,dataType:"json",success:function(e){if(e.status=="success"){s.find(".list--table").replaceWith(e.tableData);typeof e.pagination!="undefined"&&s.find(".list--pagination").replaceWith(e.pagination);typeof e.paginationInfo!="undefined"&&s.find(".list--pagination-info").replaceWith(e.paginationInfo);o()}}}).done(function(){c(s);t=!1});return!1}function o(e,t){typeof t=="undefined"&&(t=function(){return""});return s(e,t)}function u(t){var n=e("input[type=checkbox].check-all");t.on("change","input[type=checkbox].check-all",function(t){var n=e(t.delegateTarget).find("input.check-single,input.check-all");e(this).is(":checked")?n.prop("checked","checked"):n.prop("checked",!1)})}function a(t){t.on("click",".list--pagination li a",function(n){n.preventDefault();t.attr("action",e(this).attr("href"));o(t)})}function f(e,t){var n=e.find("input[name=check_item]:checked, input[name=check_item][type=hidden]").map(function(){return this.value}).get();console.log(n.length);return typeof t!="undefined"&&t?n:n.join(",")}function l(e){var t=f(e,!0);return t.length}function c(e,t){e.find("#checkbox-"+t).prop("checked",!1)}function h(e,t){e.find("#checkbox-"+t).prop("checked","checked")}function p(e,t){v(e);e.find("#checkbox-"+t).prop("checked","checked")}function d(e){e.find("input[id^=checkbox-]").prop("checked","checked")}function v(e){e.find("input[id^=checkbox-]").prop("checked",!1)}function m(t){t.on("click",".list--table .sorting a",function(n){n.preventDefault();t=e(this).closest(".list--con");t.attr("action",e(this).attr("href"));o(t)})}function g(t){t.find(".list--per-page-limit").change(function(){var t=e(this).closest(".list--con");t.find("input[name=page]").val(1);o(t)})}function y(){var t=e(".list--con");u(t);a(t);g(t);m(t)}var t=!1,n=function(e){},r=function(e){};y();var b={count:function(){return l(this)},select:function(e){var t=this;for(var n in e)h(t,e[n])},getCheckedItem:function(e){var t=this;return f(t,e)},remove:function(e){var t=this;return c(t,e)},removeAll:function(){var e=this;v(e)},refresh:function(e){var t=this;setTimeout(function(){o(t,e)},300)},onRefreshStart:function(e){n=e},onRefreshEnd:function(e){r=e}};e.fn.TBList=function(t){if(b[t])return b[t].apply(this,Array.prototype.slice.call(arguments,1));e.error("Method "+t+" does not exist on TBList.jQuery.js")}});